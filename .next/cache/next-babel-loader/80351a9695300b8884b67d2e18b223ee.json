{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\beliefchallenge\\\\beliefchallenge_client\\\\components\\\\common\\\\Header.js\";\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react'; // import search from 'assets/images/search.png'\n\nimport HeaderDropDown from './HeaderDropDown';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport getObject from 'common/jwt-services';\nimport Router from 'next/router';\nimport { withRouter } from 'next/router';\nimport { getPostLikes as _getPostLikes } from 'redux/action/generalAction'; // import axiosinstance from 'common/config.axios'\n\nvar header = function header(props) {\n  var _useState = useState(false),\n      dropDown = _useState[0],\n      setDropdown = _useState[1];\n\n  var _useState2 = useState(''),\n      authData = _useState2[0],\n      setAuthUser = _useState2[1];\n\n  var _useState3 = useState(''),\n      isLoggedIn = _useState3[0],\n      setIsLoggedIn = _useState3[1];\n\n  var _useState4 = useState(''),\n      profilePic = _useState4[0],\n      setProfilePics = _useState4[1];\n\n  var _useState5 = useState(''),\n      searchText = _useState5[0],\n      setSearchText = _useState5[1];\n\n  useEffect(function () {\n    var result = getObject.getObject('authUser');\n\n    if (props.router.query.search) {\n      setSearchText(searchText = props.router.query.search);\n    }\n\n    if (result) {\n      var _authData = JSON.parse(result);\n\n      setIsLoggedIn(isLoggedIn = _authData.token ? true : false);\n      setAuthUser(_authData = _authData);\n      setProfilePics(profilePic = _authData.profilePic);\n    } // const user_likes = genericfunctions._fetchWithOutParams(\"/likepost\").then(res => {\n    //     console.log(res)\n    // })\n    // let params = {\n    //     url: '/likepost'\n    // }\n    // props.getPostLikes(params).then(res => {\n    // })\n    // let cookieData = getObject.getObject('authUser')\n    // if (cookieData) {\n    //     let parsed = JSON.parse(getObject.getObject('authUser'))\n    //     axiosinstance.defaults.headers.common['Authorization'] = parsed.token;\n    // }\n\n  }, []);\n\n  function textChangeHandle(e, key) {\n    var _e$target$value, _e$target$value2;\n\n    setSearchText((_e$target$value = e.target.value, _e$target$value2 = _slicedToArray(_e$target$value, 1), key = _e$target$value2[0], _e$target$value));\n  }\n\n  function searchHandle() {\n    if (searchText.length > 0) {\n      Router.push({\n        pathname: '/home',\n        query: {\n          page: 1,\n          search: searchText\n        }\n      });\n    }\n  }\n\n  function handleOpenDropDown() {\n    setDropdown(dropDown = !dropDown);\n  }\n\n  return __jsx(\"header\", {\n    className: \"header-main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"container position-relative py-15\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"row m-0 justify-content-between\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"search-btn flex-fill bd-highlight \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    type: \"search\",\n    className: \"input-text-search\",\n    placeholder: \"Search here!\",\n    value: searchText,\n    onChange: function onChange(e) {\n      return textChangeHandle(e, \"searchText\");\n    },\n    onKeyUp: function onKeyUp(e) {\n      return e.keyCode == 13 ? searchHandle() : null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"flex-fill bd-highlight text-white font-weight-bold text-right align-self-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, isLoggedIn ? __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"cursor-pointer d-flex align-items-center mb-0 justify-content-end text-capitalize\",\n    onClick: handleOpenDropDown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 31\n    }\n  }, \" \", __jsx(Link, {\n    href: \"/about-us\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 158\n    }\n  }, __jsx(\"a\", {\n    className: \"about-us text-white float-left mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 181\n    }\n  }, \"About Us\")), \"|\", __jsx(\"span\", {\n    className: \"d-none d-sm-block ml-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 252\n    }\n  }, authData.fullName), \" \", __jsx(\"img\", {\n    src: \"\".concat(profilePic),\n    alt: \"profilelogo\",\n    height: \"30px\",\n    width: \"30px\",\n    className: \"ml-10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 320\n    }\n  }), \" \")) : __jsx(React.Fragment, null, \"  \", __jsx(Link, {\n    href: \"/about-us\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 33\n    }\n  }, __jsx(\"a\", {\n    className: \"about-us hidden-xs text-white mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 56\n    }\n  }, \"About us\")), __jsx(\"span\", {\n    className: \"hidden-xs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 125\n    }\n  }, \"|\"), __jsx(Link, {\n    href: \"/signup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 161\n    }\n  }, __jsx(\"a\", {\n    className: \"about-us text-white ml-3 mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 182\n    }\n  }, \"Join\")), \"|\", __jsx(Link, {\n    href: \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }, __jsx(\"a\", {\n    className: \" text-white float-right ml-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 53\n    }\n  }, \"Login\")), \" \"), __jsx(\"div\", {\n    className: \"text-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, dropDown && __jsx(HeaderDropDown, {\n    handleOpenDropDown: handleOpenDropDown,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 65\n    }\n  }))))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getPostLikes: function getPostLikes(data) {\n      return dispatch(_getPostLikes(data));\n    }\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(header));","map":{"version":3,"sources":["F:/beliefchallenge/beliefchallenge_client/components/common/Header.js"],"names":["React","useState","useEffect","HeaderDropDown","connect","Link","getObject","Router","withRouter","getPostLikes","header","props","dropDown","setDropdown","authData","setAuthUser","isLoggedIn","setIsLoggedIn","profilePic","setProfilePics","searchText","setSearchText","result","router","query","search","JSON","parse","token","textChangeHandle","e","key","target","value","searchHandle","length","push","pathname","page","handleOpenDropDown","keyCode","fullName","mapStateToProps","state","auth","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// import search from 'assets/images/search.png'\r\nimport HeaderDropDown from './HeaderDropDown'\r\nimport { connect } from 'react-redux';\r\nimport Link from 'next/link'\r\nimport getObject from 'common/jwt-services'\r\nimport Router from 'next/router'\r\nimport { withRouter } from 'next/router'\r\nimport { getPostLikes } from 'redux/action/generalAction'\r\n// import axiosinstance from 'common/config.axios'\r\n\r\nconst header = (props) => {\r\n    let [dropDown, setDropdown] = useState(false)\r\n    let [authData, setAuthUser] = useState('')\r\n    let [isLoggedIn, setIsLoggedIn] = useState('')\r\n    let [profilePic, setProfilePics] = useState('')\r\n    let [searchText, setSearchText] = useState('')\r\n\r\n    useEffect(() => {\r\n        let result = getObject.getObject('authUser');\r\n        if (props.router.query.search) {\r\n            setSearchText((searchText = props.router.query.search))\r\n        }\r\n        if (result) {\r\n            let authData = JSON.parse(result)\r\n            setIsLoggedIn((isLoggedIn = authData.token ? true : false))\r\n            setAuthUser((authData = authData))\r\n            setProfilePics((profilePic = authData.profilePic))\r\n        }\r\n        // const user_likes = genericfunctions._fetchWithOutParams(\"/likepost\").then(res => {\r\n        //     console.log(res)\r\n        // })\r\n\r\n        // let params = {\r\n        //     url: '/likepost'\r\n        // }\r\n\r\n        // props.getPostLikes(params).then(res => {\r\n        // })\r\n\r\n        // let cookieData = getObject.getObject('authUser')\r\n        // if (cookieData) {\r\n        //     let parsed = JSON.parse(getObject.getObject('authUser'))\r\n        //     axiosinstance.defaults.headers.common['Authorization'] = parsed.token;\r\n        // }\r\n    }, [])\r\n\r\n    function textChangeHandle(e, key) {\r\n        setSearchText(([key] = e.target.value))\r\n    }\r\n\r\n    function searchHandle() {\r\n        if (searchText.length > 0) {\r\n            Router.push({\r\n                pathname: '/home', query: { page: 1, search: searchText },\r\n            })\r\n        }\r\n    }\r\n\r\n    function handleOpenDropDown() {\r\n        setDropdown(dropDown = !dropDown)\r\n    }\r\n    return (\r\n        <header className=\"header-main\">\r\n            <div className=\"container position-relative py-15\">\r\n                <div className=\"row m-0 justify-content-between\">\r\n                    <div className=\"search-btn flex-fill bd-highlight \">\r\n                        <input type='search' className='input-text-search' placeholder='Search here!' value={searchText} onChange={e => textChangeHandle(e, \"searchText\")} onKeyUp={e => e.keyCode == 13 ? searchHandle() : null} />\r\n                    </div>\r\n                    <div className=\"flex-fill bd-highlight text-white font-weight-bold text-right align-self-center\">\r\n                        {isLoggedIn ?\r\n                            <><p className='cursor-pointer d-flex align-items-center mb-0 justify-content-end text-capitalize' onClick={handleOpenDropDown}> <Link href='/about-us'><a className='about-us text-white float-left mr-3'>About Us</a></Link>|<span className=\"d-none d-sm-block ml-3\">{authData.fullName}</span> <img src={`${profilePic}`} alt='profilelogo' height=\"30px\" width='30px' className=\"ml-10\" /> </p></>\r\n                            :\r\n                            <>  <Link href='/about-us'><a className='about-us hidden-xs text-white mr-3'>About us</a></Link><span className=\"hidden-xs\">|</span><Link href='/signup'><a className='about-us text-white ml-3 mr-3'>Join</a></Link>|\r\n                                <Link href='/login'><a className=' text-white float-right ml-3'>Login</a></Link> </>}\r\n                        <div className='text-left'>{dropDown && <HeaderDropDown handleOpenDropDown={handleOpenDropDown} />}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </header >\r\n    )\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        auth: state.auth,\r\n    };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        getPostLikes: data => dispatch(getPostLikes(data))\r\n    }\r\n}\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(header));"]},"metadata":{},"sourceType":"module"}
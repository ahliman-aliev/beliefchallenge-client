{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\beliefchallenge\\\\beliefchallenge_client\\\\components\\\\post\\\\postCom\\\\index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faUserCircle, faThumbtack } from \"@fortawesome/free-solid-svg-icons\";\nimport pinpost from 'assets/images/pinpost.png';\nimport pinposted from 'assets/images/pinposted.png';\nimport profilelogo from 'assets/images/profilelogo.png';\nimport comment from 'assets/images/comment.png';\nimport share from 'assets/images/share.png';\nimport likeIcon from 'assets/images/like.png';\nimport Comment from 'comment';\nimport postdeleteicon from 'assets/images/postdeleteicon.png';\nimport ShareCom from '../../share';\nimport genericfunctions from 'utilfunction/util-api-service';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport moment from 'moment';\nimport { BASEURL } from 'common/config';\nimport { showModal as _showModal, addPostLike as _addPostLike, removePostLike as _removePostLike } from 'redux/action/generalAction';\nlibrary.add(faUserCircle, faThumbtack);\n\nvar postCom = /*#__PURE__*/function (_Component) {\n  _inherits(postCom, _Component);\n\n  var _super = _createSuper(postCom);\n\n  function postCom(props) {\n    var _this;\n\n    _classCallCheck(this, postCom);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOpenCommentPanel\", function () {\n      var _this$state = _this.state,\n          sharePanel = _this$state.sharePanel,\n          commentPanel = _this$state.commentPanel; // this.setState({ commentPanel: commentPanel == true ? false : true, sharePanel: false })\n\n      _this.setState({\n        commentPanel: !commentPanel,\n        sharePanel: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOpenSharePanel\", function () {\n      var _this$state2 = _this.state,\n          sharePanel = _this$state2.sharePanel,\n          commentPanel = _this$state2.commentPanel; // this.setState({ sharePanel: sharePanel == true ? false : true, commentPanel: false })\n\n      _this.setState({\n        sharePanel: !sharePanel,\n        commentPanel: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"chnageCommentpanel\", function () {\n      // console.log(\"abc\")\n      _this.setState({\n        commentPanel: false,\n        sharePanel: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pinPostHandle\", function () {\n      var params = {\n        postId: _this.props.data._id,\n        isPin: _this.props.pinPost,\n        socialLogin: _this.props.auth.authUser.socialLogin // socialLogin:\"abc\"\n\n      }; // let postId = { postId: this.props.data._id }\n\n      genericfunctions._updateRequest('/post/pinpost', params).then(function (res) {// this.props.fetchPost()\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deletePost\", function () {\n      var userData = {\n        postId: _this.props.data._id,\n        role: _this.props.auth.authUser.role,\n        userId: _this.props.auth.authUser.userId,\n        socialLogin: _this.props.auth.authUser.socialLogin\n      };\n\n      genericfunctions._deleteRequest(\"/post\", userData).then(function (res) {// this.props.fetchPost()\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deletePrompt\", function (postId) {\n      _this.props.showModal({\n        showModal: true,\n        postId: postId\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pinPostHandle\", function () {\n      var params = {\n        postId: _this.props.data._id,\n        isPin: _this.props.pinPost,\n        socialLogin: _this.props.auth.authUser.socialLogin\n      }; // let postId = { postId: this.props.data._id }\n\n      genericfunctions._updateRequest('/post/pinpost', params).then(function (res) {\n        _this.props.fetchPinPost();\n\n        Router.router.push(Router.router.asPath);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pinPostPrompt\", function () {\n      _this.props.showModal({\n        showModal: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showMore\", function () {\n      var readMore = _this.state.readMore;\n\n      _this.setState({\n        readMore: readMore = !readMore\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleLike\", function (flag) {\n      _this.setState({\n        processing: true\n      });\n\n      var _this$state3 = _this.state,\n          likeFlag = _this$state3.likeFlag,\n          postLikeCount = _this$state3.postLikeCount,\n          isLike = _this$state3.isLike;\n      var params = {\n        postId: _this.props.data._id,\n        likeFlag: flag\n      }; // console.log(this.props.generalData.postLikes, flag == 'add' && isLike[0] != params.postId)\n\n      genericfunctions._postRequest('/likepost', params).then(function (res) {\n        if (res.data.response.status) {\n          _this.props.addPostLike(params).then(function (res) {\n            if (res) {\n              _this.setState({\n                postLikeCount: flag == 'add' ? ++postLikeCount : --postLikeCount\n              }); // if (flag == 'add') {\n              //     this.setState({ postLikeCount: ++postLikeCount })\n              // }\n              // if (flag == 'remove') {\n              //     // this.props.removePostLike(params)\n              //     //     .then(res => {\n              //     //         this.setState({ isLike: this.props.generalData.postLikes })\n              //     //     })\n              //     this.setState({ postLikeCount: --postLikeCount })\n              // }\n\n\n              _this.setState({\n                isLike: res.filter(function (i) {\n                  return i == _this.props.data._id;\n                })\n              });\n            }\n          });\n\n          _this.setState({\n            processing: false\n          });\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (url) {\n      Router.push(url);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchComments\", function () {\n      // console.log(this.props.data)\n      var queryparams = {\n        params: {\n          postId: _this.props.data._id,\n          createdBy: _this.props.data.createdBy,\n          skip: 0,\n          limit: 1\n        }\n      };\n\n      genericfunctions._fetchWithParams(\"/comment\", queryparams).then(function (res) {\n        if (res.data.response.status) {\n          _this.setState({\n            commentCount: res.data.response.count ? res.data.response.count : 0\n          });\n        }\n      });\n    });\n\n    _this.state = {\n      commentPanel: false,\n      sharePanel: false,\n      postCategory: '',\n      chnageCommentpanel: _this.chnageCommentpanel.bind(_assertThisInitialized(_this)),\n      readMore: _this.props.data.postQuestion.length > 100 ? true : false,\n      showModal: false,\n      likeFlag: '',\n      postLikeCount: _this.props.data.likes ? _this.props.data.likes : 0,\n      isLike: [],\n      processing: false,\n      isLoggedIn: false,\n      commentCount: 0\n    };\n    return _this;\n  }\n\n  _createClass(postCom, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchComments();\n      var authData = this.props.auth.authUser;\n\n      if (authData.token) {\n        this.setState({\n          isLoggedIn: true\n        });\n      }\n    }\n    /**\r\n     * fetch commments function\r\n     * @param {postId(string) limit(number) skip(number)}\r\n     */\n\n  }, {\n    key: \"render\",\n    // updateCommentCount = (commentCount) => {\n    //     this.setState({ commentCount })\n    // }\n    value: function render() {\n      var _jsx,\n          _this2 = this;\n\n      // let isLike = this.props.generalData.postLikes.filter(i => i == this.props.data._id)\n      var item = this.props.data;\n      var user = item.output[0];\n      var publishedDate = moment(item.createdDate).format('MMM DD, YYYY');\n      var publishedTime = moment(item.createdDate).format('hh:mm A');\n      var postCategory;\n      if (this.props.categoryData && this.props.categoryData.category.length > 0) postCategory = this.props.categoryData.category.filter(function (categoryid) {\n        return categoryid._id == item.categoryId;\n      })[0];\n      var _this$state4 = this.state,\n          sharePanel = _this$state4.sharePanel,\n          commentPanel = _this$state4.commentPanel,\n          like = _this$state4.like,\n          readMore = _this$state4.readMore,\n          postLikeCount = _this$state4.postLikeCount,\n          isLike = _this$state4.isLike,\n          processing = _this$state4.processing,\n          commentCount = _this$state4.commentCount;\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"post-main-container mb-40\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"\".concat(this.props.auth.authUser && this.props.auth.authUser.userId == user._id ? 'highlight-my-post' : '', \" create-post p-30 bg-white\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"post-header row align-items-center justify-content-between mb-3 w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: \"col-9 d-flex pl-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 29\n        }\n      }, __jsx(\"div\", {\n        className: \"profile-pic d-flex align-items-center pic-large bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 33\n        }\n      }, __jsx(\"img\", (_jsx = {\n        src: user.profilePic.url ? user.profilePic.url : profilelogo,\n        alt: \"profilelogo\",\n        className: \"rounded-circle img-fluid\"\n      }, _defineProperty(_jsx, \"alt\", \"Profile Picture\"), _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 37\n      }), _jsx))), __jsx(\"div\", {\n        className: \"p-2 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 33\n        }\n      }, __jsx(\"p\", {\n        className: \"m-0 font-weight-bold text-capitalize\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 37\n        }\n      }, \" \", item.output[0].fullName, \" \", this.props.auth.authUser && this.props.auth.authUser.userId == user._id && __jsx(\"small\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 192\n        }\n      }, \"(Posted by you)\")), __jsx(\"p\", {\n        className: \"m-0 font-weight-bold text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 37\n        }\n      }, publishedDate, \" at \", publishedTime))), __jsx(\"div\", {\n        className: \"d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 29\n        }\n      }, this.props.auth.authUser.role == 'admin' && __jsx(\"div\", {\n        className: \"p-2 mr-10 bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 78\n        }\n      }, __jsx(\"img\", {\n        src: this.props.pinPost ? pinposted : pinpost,\n        alt: \"pinpiost\",\n        onClick: this.pinPostHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 37\n        }\n      })), (this.props.auth.authUser && this.props.auth.authUser.userId == user._id || this.props.auth.authUser.role == 'admin') && __jsx(\"div\", {\n        className: \"bd-highlight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 37\n        }\n      }, __jsx(\"div\", {\n        className: \"btn btn-danger delete-post bd-highlight\",\n        onClick: function onClick() {\n          return _this2.deletePrompt(item._id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 41\n        }\n      }, \" \", __jsx(\"img\", {\n        src: postdeleteicon,\n        alt: \"postdeleteicon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 143\n        }\n      }), \" \")))), __jsx(\"div\", {\n        className: \"post-question cursor-pointer\",\n        onClick: function onClick() {\n          return _this2.handleClick(\"/post-detail?postId=\".concat(item._id));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }\n      }, item.postQuestion && __jsx(React.Fragment, null, __jsx(\"p\", {\n        className: \"font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 53\n        }\n      }, \"I believe \", __jsx(\"ins\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 43\n        }\n      }, \" \", readMore ? \"\".concat(item.postQuestion.substr(0, 100)) : item.postQuestion, item.postQuestion.length > 100 ? __jsx(\"span\", {\n        className: \"cursor-pointer\",\n        onClick: this.showMore,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 41\n        }\n      }, \"... \", __jsx(\"span\", {\n        className: \"font-weight-normal text-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 102\n        }\n      }, \" Read\", readMore ? ' More' : ' Less')) : undefined, __jsx(\"span\", {\n        className: \"text-bold times-roman\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 95\n        }\n      }, \",\"))), \" \", __jsx(\"p\", {\n        className: \"font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 34\n        }\n      }, \" but I might change my mind if: \"))), __jsx(\"div\", {\n        className: \"post-question-option\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 25\n        }\n      }, __jsx(\"p\", {\n        className: \"border-bottom d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 29\n        }\n      }, __jsx(\"span\", {\n        className: \"mr-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 65\n        }\n      }, \"1)\"), __jsx(\"span\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 98\n        }\n      }, item.options[0])), __jsx(\"p\", {\n        className: \"border-bottom d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 29\n        }\n      }, __jsx(\"span\", {\n        className: \"mr-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 65\n        }\n      }, \"2)\"), __jsx(\"span\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 98\n        }\n      }, item.options[1])), __jsx(\"p\", {\n        className: \"border-bottom d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 29\n        }\n      }, __jsx(\"span\", {\n        className: \"mr-15\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 65\n        }\n      }, \"3)\"), __jsx(\"span\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 98\n        }\n      }, item.options[2]))), __jsx(\"div\", {\n        className: \"post-fotter row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: \"col-xl-9 col-lg-12 col-12 d-sm-flex p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 29\n        }\n      }, __jsx(\"div\", {\n        className: \"col-sm-4 col-12 pl order-1 btn-wrap mt-10 pr-5\",\n        onClick: this.handleOpenCommentPanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: \"\".concat(commentPanel ? 'comment-active' : 'comment', \" border commet-icon text-center align-self-cente blue-btn px-10\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 37\n        }\n      }, __jsx(\"p\", {\n        className: \"m-0 pt-10 pb-10 text-muted position-relative bc__comment-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 41\n        }\n      }, __jsx(\"div\", {\n        className: \"mr-5 bc__comment-count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 45\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 49\n        }\n      }, commentCount)), \"Comment\"))), __jsx(\"div\", {\n        className: \"col-sm-4 col-12 text-center order-2 order-sm-2 mt-10  pl-5 pr-5\",\n        onClick: this.handleOpenSharePanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: \"\".concat(sharePanel ? 'share-active' : 'share', \" border share-icon align-self-cente w-100 px-10\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 37\n        }\n      }, __jsx(\"p\", {\n        className: \"m-0 pt-10 pb-10 text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 41\n        }\n      }, __jsx(\"img\", {\n        src: share,\n        alt: \"pinpiost\",\n        className: \"mr-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 45\n        }\n      }), \"Share\")), sharePanel && __jsx(\"div\", {\n        className: \"w-100 mt-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 52\n        }\n      }, __jsx(ShareCom, {\n        url: \"\".concat(BASEURL, \"post-detail?postId=\").concat(item._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 41\n        }\n      }))), __jsx(\"div\", {\n        className: \"col-sm-4 col-12 text-center order-2 order-sm-2 mt-10 pr-0 \" + (this.props.auth.authUser.token ? 'cursor-pointer' : ''),\n        onClick: this.props.auth.authUser.token ? function () {\n          return _this2.handleLike(isLike.length > 0 && !processing ? 'remove' : 'add');\n        } : null,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 33\n        }\n      }, __jsx(\"div\", {\n        className: \"\".concat(isLike.length > 0 ? 'like-active ' : 'like like-icon', \"  w-100 \"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 37\n        }\n      }, __jsx(\"p\", {\n        className: \"m-0 pt-10 pb-10 text-center text-sm-left text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 41\n        }\n      }, __jsx(\"img\", {\n        src: likeIcon,\n        alt: \"pinpiost\",\n        className: \"mr-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 45\n        }\n      }), postLikeCount)))), __jsx(\"div\", {\n        className: \"col-xl-3 col-lg-12 mt-20 entertainment order-4 order-xl-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 29\n        }\n      }, __jsx(\"div\", {\n        className: \"entertainment-icon text-center text-xl-right align-self-center w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 33\n        }\n      }, this.props.categoryData.category.length > 0 && __jsx(\"p\", {\n        className: \"m-0 text-muted font-weight-bold text-capitalize \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 85\n        }\n      }, __jsx(\"img\", {\n        src: postCategory.catIcon.url,\n        alt: \"pinpiost\",\n        className: \"mr-5 mb-1 img-invert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 41\n        }\n      }), postCategory.title))), commentPanel && __jsx(\"div\", {\n        className: \"order-3 order-xl-4 mt-10 px-15 w-100 comment-panel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 46\n        }\n      }, __jsx(Comment, {\n        postItem: item,\n        commentCount: commentCount,\n        fetchComments: this.fetchComments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 33\n        }\n      }))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var isLike = props.generalData.postLikes.filter(function (i) {\n        return i == props.data._id;\n      });\n\n      if (isLike[0] == props.data._id) {\n        return _objectSpread({}, state, {\n          isLike: isLike\n        });\n      } else return null;\n    }\n  }]);\n\n  return postCom;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    categoryData: state.category,\n    generalData: state.general\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    showModal: function showModal(data) {\n      return dispatch(_showModal(data));\n    },\n    addPostLike: function addPostLike(data) {\n      return dispatch(_addPostLike(data));\n    },\n    removePostLike: function removePostLike(data) {\n      return dispatch(_removePostLike(data));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(postCom);","map":{"version":3,"sources":["F:/beliefchallenge/beliefchallenge_client/components/post/postCom/index.js"],"names":["React","Component","library","faUserCircle","faThumbtack","pinpost","pinposted","profilelogo","comment","share","likeIcon","Comment","postdeleteicon","ShareCom","genericfunctions","connect","Router","moment","BASEURL","showModal","addPostLike","removePostLike","add","postCom","props","state","sharePanel","commentPanel","setState","params","postId","data","_id","isPin","pinPost","socialLogin","auth","authUser","_updateRequest","then","res","userData","role","userId","_deleteRequest","fetchPinPost","router","push","asPath","readMore","flag","processing","likeFlag","postLikeCount","isLike","_postRequest","response","status","filter","i","url","queryparams","createdBy","skip","limit","_fetchWithParams","commentCount","count","postCategory","chnageCommentpanel","bind","postQuestion","length","likes","isLoggedIn","fetchComments","authData","token","item","user","output","publishedDate","createdDate","format","publishedTime","categoryData","category","categoryid","categoryId","like","profilePic","fullName","pinPostHandle","deletePrompt","handleClick","substr","showMore","undefined","options","handleOpenCommentPanel","handleOpenSharePanel","handleLike","catIcon","title","generalData","postLikes","mapStateToProps","general","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faUserCircle, faThumbtack } from \"@fortawesome/free-solid-svg-icons\";\r\nimport pinpost from 'assets/images/pinpost.png'\r\nimport pinposted from 'assets/images/pinposted.png'\r\nimport profilelogo from 'assets/images/profilelogo.png'\r\nimport comment from 'assets/images/comment.png'\r\nimport share from 'assets/images/share.png'\r\nimport likeIcon from 'assets/images/like.png'\r\nimport Comment from 'comment'\r\nimport postdeleteicon from 'assets/images/postdeleteicon.png'\r\nimport ShareCom from '../../share'\r\nimport genericfunctions from 'utilfunction/util-api-service'\r\nimport { connect } from 'react-redux';\r\nimport Router from 'next/router'\r\n\r\nimport moment from 'moment'\r\nimport { BASEURL } from 'common/config';\r\nimport { showModal, addPostLike, removePostLike } from 'redux/action/generalAction'\r\n\r\nlibrary.add(faUserCircle, faThumbtack);\r\n\r\nclass postCom extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            commentPanel: false,\r\n            sharePanel: false,\r\n            postCategory: '',\r\n            chnageCommentpanel: this.chnageCommentpanel.bind(this),\r\n            readMore: this.props.data.postQuestion.length > 100 ? true : false,\r\n            showModal: false,\r\n            likeFlag: '',\r\n            postLikeCount: this.props.data.likes ? this.props.data.likes : 0,\r\n            isLike: [],\r\n            processing: false,\r\n            isLoggedIn: false,\r\n            commentCount: 0\r\n        }\r\n\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n\r\n        let isLike = props.generalData.postLikes.filter(i => i == props.data._id)\r\n        if (isLike[0] == props.data._id) {\r\n\r\n            return {\r\n                ...state,\r\n                isLike\r\n            }\r\n        }\r\n        else return null\r\n    }\r\n    handleOpenCommentPanel = () => {\r\n        let { sharePanel, commentPanel } = this.state\r\n        // this.setState({ commentPanel: commentPanel == true ? false : true, sharePanel: false })\r\n        this.setState({ commentPanel: !commentPanel, sharePanel: false })\r\n    }\r\n    handleOpenSharePanel = () => {\r\n        let { sharePanel, commentPanel } = this.state\r\n        // this.setState({ sharePanel: sharePanel == true ? false : true, commentPanel: false })\r\n        this.setState({ sharePanel: !sharePanel, commentPanel: false })\r\n    }\r\n    chnageCommentpanel = () => {\r\n        // console.log(\"abc\")\r\n        this.setState({ commentPanel: false, sharePanel: false })\r\n    }\r\n\r\n\r\n    /**\r\n     * fetch pin post funtion\r\n     * @param {postid(string)}\r\n     */\r\n    pinPostHandle = () => {\r\n        let params = {\r\n            postId: this.props.data._id,\r\n            isPin: this.props.pinPost,\r\n            socialLogin: this.props.auth.authUser.socialLogin,\r\n            // socialLogin:\"abc\"\r\n        }\r\n        // let postId = { postId: this.props.data._id }\r\n        genericfunctions._updateRequest('/post/pinpost', params).then(res => {\r\n            // this.props.fetchPost()\r\n\r\n        })\r\n    }\r\n    // componentWillUnmount() {\r\n    // this.setState({ commentPanel: false })\r\n    // }\r\n\r\n    /**\r\n    * delete  post funtion\r\n    * @param {postid(string)}\r\n    */\r\n    deletePost = () => {\r\n        let userData = {\r\n            postId: this.props.data._id,\r\n            role: this.props.auth.authUser.role,\r\n            userId: this.props.auth.authUser.userId,\r\n            socialLogin: this.props.auth.authUser.socialLogin\r\n        }\r\n        genericfunctions._deleteRequest(`/post`, userData).then(res => {\r\n            // this.props.fetchPost()\r\n        })\r\n    }\r\n    /**\r\n    * prompt delete  post funtion\r\n    * @param {delete(Boolean)}\r\n    */\r\n    deletePrompt = (postId) => {\r\n        this.props.showModal({ showModal: true, postId })\r\n    }\r\n    /**\r\n     * fetch pin post funtion\r\n     * @param {postid(string)}\r\n     */\r\n    pinPostHandle = () => {\r\n        let params = {\r\n            postId: this.props.data._id,\r\n            isPin: this.props.pinPost,\r\n            socialLogin: this.props.auth.authUser.socialLogin\r\n        }\r\n        // let postId = { postId: this.props.data._id }\r\n\r\n        genericfunctions._updateRequest('/post/pinpost', params).then(res => {\r\n            this.props.fetchPinPost()\r\n            Router.router.push(Router.router.asPath)\r\n        })\r\n    }\r\n\r\n\r\n    pinPostPrompt = () => {\r\n        this.props.showModal({ showModal: true, })\r\n    }\r\n\r\n    showMore = () => {\r\n        let { readMore } = this.state\r\n        this.setState({ readMore: readMore = !readMore })\r\n    }\r\n    handleLike = (flag) => {\r\n        this.setState({ processing: true })\r\n        let { likeFlag, postLikeCount, isLike } = this.state;\r\n        let params = {\r\n            postId: this.props.data._id,\r\n            likeFlag: flag\r\n        }\r\n        // console.log(this.props.generalData.postLikes, flag == 'add' && isLike[0] != params.postId)\r\n\r\n        genericfunctions._postRequest('/likepost', params).then(res => {\r\n            if (res.data.response.status) {\r\n\r\n                this.props.addPostLike(params).then(res => {\r\n                    if (res) {\r\n                        this.setState({ postLikeCount: flag == 'add' ? ++postLikeCount : --postLikeCount })\r\n\r\n                        // if (flag == 'add') {\r\n                        //     this.setState({ postLikeCount: ++postLikeCount })\r\n                        // }\r\n                        // if (flag == 'remove') {\r\n                        //     // this.props.removePostLike(params)\r\n                        //     //     .then(res => {\r\n                        //     //         this.setState({ isLike: this.props.generalData.postLikes })\r\n                        //     //     })\r\n                        //     this.setState({ postLikeCount: --postLikeCount })\r\n                        // }\r\n                        this.setState({ isLike: res.filter(i => i == this.props.data._id) })\r\n                    }\r\n                })\r\n                this.setState({ processing: false })\r\n\r\n\r\n            }\r\n        })\r\n    }\r\n    handleClick = (url) => {\r\n        Router.push(url)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.fetchComments()\r\n        let authData = this.props.auth.authUser;\r\n        if (authData.token) {\r\n            this.setState({ isLoggedIn: true })\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * fetch commments function\r\n     * @param {postId(string) limit(number) skip(number)}\r\n     */\r\n    fetchComments = () => {\r\n        // console.log(this.props.data)\r\n        let queryparams = {\r\n            params: {\r\n                postId: this.props.data._id,\r\n                createdBy: this.props.data.createdBy,\r\n                skip: 0,\r\n                limit: 1\r\n            }\r\n        }\r\n        genericfunctions._fetchWithParams(`/comment`, queryparams).then(res => {\r\n\r\n            if (res.data.response.status) {\r\n                this.setState({ commentCount: res.data.response.count ? res.data.response.count : 0 })\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    // updateCommentCount = (commentCount) => {\r\n    //     this.setState({ commentCount })\r\n    // }\r\n\r\n    render() {\r\n        // let isLike = this.props.generalData.postLikes.filter(i => i == this.props.data._id)\r\n        let item = this.props.data\r\n        let user = item.output[0]\r\n        let publishedDate = moment(item.createdDate).format('MMM DD, YYYY')\r\n        let publishedTime = moment(item.createdDate).format('hh:mm A')\r\n        let postCategory;\r\n        if (this.props.categoryData && this.props.categoryData.category.length > 0)\r\n            postCategory = this.props.categoryData.category.filter(categoryid => categoryid._id == item.categoryId)[0]\r\n        let { sharePanel, commentPanel, like, readMore, postLikeCount, isLike, processing, commentCount } = this.state\r\n\r\n        return (\r\n            <>\r\n                <div className='post-main-container mb-40'>\r\n                    <div className={`${this.props.auth.authUser && this.props.auth.authUser.userId == user._id ? 'highlight-my-post' : ''} create-post p-30 bg-white`} >\r\n                        <div className='post-header row align-items-center justify-content-between mb-3 w-100'>\r\n                            <div className=\"col-9 d-flex pl-0\">\r\n                                <div className=\"profile-pic d-flex align-items-center pic-large bd-highlight\">\r\n                                    <img src={user.profilePic.url ? user.profilePic.url : profilelogo} alt=\"profilelogo\" className=\"rounded-circle img-fluid\" alt=\"Profile Picture\" />\r\n                                </div>\r\n                                <div className=\"p-2 bd-highlight\">\r\n                                    <p className='m-0 font-weight-bold text-capitalize'> {item.output[0].fullName} {this.props.auth.authUser && this.props.auth.authUser.userId == user._id && <small className=\"text-muted\">\r\n                                        (Posted by you)\r\n                                    </small>}</p>\r\n                                    <p className='m-0 font-weight-bold text-muted'>{publishedDate} at {publishedTime}</p>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"d-flex\">\r\n                                {this.props.auth.authUser.role == 'admin' && <div className=\"p-2 mr-10 bd-highlight\">\r\n                                    <img src={this.props.pinPost ? pinposted : pinpost} alt=\"pinpiost\" onClick={this.pinPostHandle} />\r\n                                </div>\r\n                                }\r\n                                {((this.props.auth.authUser && this.props.auth.authUser.userId == user._id) || this.props.auth.authUser.role == 'admin') &&\r\n                                    <div className='bd-highlight'>\r\n                                        <div className='btn btn-danger delete-post bd-highlight' onClick={() => this.deletePrompt(item._id)}> <img src={postdeleteicon} alt='postdeleteicon' /> </div>\r\n                                    </div>\r\n                                }\r\n\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                        <div className='post-question cursor-pointer' onClick={() => this.handleClick(`/post-detail?postId=${item._id}`)}>\r\n                            {item.postQuestion && <><p className='font-weight-bold'>\r\n                                I believe <ins> {readMore ?\r\n                                    `${item.postQuestion.substr(0, 100)}` :\r\n                                    (item.postQuestion)}\r\n                                    {item.postQuestion.length > 100 ?\r\n                                        <span className='cursor-pointer' onClick={this.showMore}>... <span className=\"font-weight-normal text-primary\"> Read\r\n                                   {readMore ? ' More' : ' Less'}</span></span> : (undefined)}<span className=\"text-bold times-roman\">,</span></ins>\r\n                            </p> <p className='font-weight-bold'> but I might change my mind if: </p></>}\r\n                            {/* <p className='font-weight-bold'>I believe <u>{item.postQuestion}</u>,\r\n                        //     but I might change my mind if:</p> */}\r\n                        </div>\r\n                        <div className='post-question-option'>\r\n\r\n                            <p className='border-bottom d-flex'><span className=\"mr-15\">1)</span><span className='text-muted'>{item.options[0]}</span></p>\r\n                            <p className='border-bottom d-flex'><span className=\"mr-15\">2)</span><span className='text-muted'>{item.options[1]}</span></p>\r\n                            <p className='border-bottom d-flex'><span className=\"mr-15\">3)</span><span className='text-muted'>{item.options[2]}</span></p>\r\n                        </div>\r\n                        <div className='post-fotter row'>\r\n                            <div className=\"col-xl-9 col-lg-12 col-12 d-sm-flex p-0\">\r\n                                <div className='col-sm-4 col-12 pl order-1 btn-wrap mt-10 pr-5' onClick={this.handleOpenCommentPanel}>\r\n                                    <div className={`${commentPanel ? 'comment-active' : 'comment'} border commet-icon text-center align-self-cente blue-btn px-10`}>\r\n                                        <p className='m-0 pt-10 pb-10 text-muted position-relative bc__comment-container'>\r\n                                            <div className=\"mr-5 bc__comment-count\">\r\n                                                <span>{commentCount}</span>\r\n                                            </div>\r\n                                            {/* <img src={comment} alt=\"pinpiost\" className='mr-5' />\r\n                                            <span className=\"comment-count\">{commentCount}</span> */}\r\n                                            Comment\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                {/* btn-wrap */}\r\n                                <div className='col-sm-4 col-12 text-center order-2 order-sm-2 mt-10  pl-5 pr-5' onClick={this.handleOpenSharePanel}>\r\n                                    <div className={`${sharePanel ? 'share-active' : 'share'} border share-icon align-self-cente w-100 px-10`} >\r\n                                        <p className='m-0 pt-10 pb-10 text-muted'>\r\n                                            <img src={share} alt=\"pinpiost\" className='mr-5' />\r\n                                            Share</p>\r\n                                    </div>\r\n                                    {/* {sharePanel && <div className=\"order-4 order-sm-6 pl-25 offset-xl-3 mt-10\"> */}\r\n                                    {sharePanel && <div className=\"w-100 mt-10\">\r\n                                        <ShareCom url={`${BASEURL}post-detail?postId=${item._id}`} />\r\n                                    </div>}\r\n                                </div>\r\n                                <div className=\r\n                                    {\"col-sm-4 col-12 text-center order-2 order-sm-2 mt-10 pr-0 \" + (this.props.auth.authUser.token ? 'cursor-pointer' : '')}\r\n                                    onClick={this.props.auth.authUser.token ? () => this.handleLike(isLike.length > 0 && !processing ? 'remove' : 'add') : null}\r\n                                >\r\n                                    <div className={`${isLike.length > 0 ? 'like-active ' : 'like like-icon'}  w-100 `} >\r\n                                        <p className='m-0 pt-10 pb-10 text-center text-sm-left text-muted'>\r\n                                            <img src={likeIcon} alt=\"pinpiost\" className='mr-5' />\r\n                                            {postLikeCount}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <div className='col-xl-3 col-lg-12 mt-20 entertainment order-4 order-xl-3'>\r\n                                <div className='entertainment-icon text-center text-xl-right align-self-center w-100'>\r\n                                    {this.props.categoryData.category.length > 0 && <p className='m-0 text-muted font-weight-bold text-capitalize '>\r\n                                        <img src={postCategory.catIcon.url} alt=\"pinpiost\" className='mr-5 mb-1 img-invert' />\r\n                                        {postCategory.title}\r\n                                    </p>}\r\n                                </div>\r\n\r\n                            </div>\r\n                            {commentPanel && <div className=\"order-3 order-xl-4 mt-10 px-15 w-100 comment-panel\">\r\n                                <Comment postItem={item} commentCount={commentCount} fetchComments={this.fetchComments}/>\r\n                                {/* updateCommentCount={this.updateCommentCount} */}\r\n                            </div>}\r\n\r\n                        </div>\r\n                    </div >\r\n                </div >\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        auth: state.auth,\r\n        categoryData: state.category,\r\n        generalData: state.general\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        showModal: data => dispatch(showModal(data)),\r\n        addPostLike: data => dispatch(addPostLike(data)),\r\n        removePostLike: data => dispatch(removePostLike(data)),\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(postCom);"]},"metadata":{},"sourceType":"module"}
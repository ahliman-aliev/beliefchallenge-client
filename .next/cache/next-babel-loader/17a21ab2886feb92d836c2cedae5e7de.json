{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\beliefchallenge\\\\beliefchallenge_client\\\\components\\\\common\\\\Pagination.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Router, { withRouter } from 'next/router';\nimport Link from 'next/link';\n\nvar Pagination = /*#__PURE__*/function (_Component) {\n  _inherits(Pagination, _Component);\n\n  var _super = _createSuper(Pagination);\n\n  function Pagination(props) {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"pagesHandler\", function (derived) {\n      if (_this.props.count == _this.props.itemsLimit) {\n        _this.setState({\n          pages: []\n        });\n      }\n\n      if (_this.props.count) _this.setState({\n        pages: _toConsumableArray(Array(Math.ceil(_this.props.count / _this.props.itemsLimit)).keys()).map(function (e) {\n          return e + 1;\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleGoto\", function (e) {\n      var re = /^[1-9]\\d*$/;\n\n      if ((e.target.value === '' || re.test(e.target.value)) && e.target.value <= _this.props.count) {\n        _this.setState({\n          \"goto\": +e.target.value\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFocus\", function (event) {\n      return event.target.select();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleGotoPage\", function (e) {\n      e.preventDefault();\n      Router.push({\n        pathname: _this.props.pageRoute,\n        query: {\n          page: _this.state[\"goto\"]\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePageLink\", function (page) {\n      var _this$state = _this.state,\n          categoryId = _this$state.categoryId,\n          search = _this$state.search;\n      var computed = {\n        pathname: _this.props.pageRoute,\n        query: {\n          page: page\n        }\n      };\n      if (categoryId) computed.query['categoryId'] = categoryId;\n      if (search) computed.query['search'] = search;\n      return computed;\n    });\n\n    _this.state = {\n      pages: [],\n      count: 0,\n      currentPage: 1,\n      \"goto\": '',\n      skip: 0,\n      categoryId: '',\n      search: '',\n      pagesHandler: _this.pagesHandler.bind(_assertThisInitialized(_this))\n    };\n    _this._isMounted = true;\n    Router.events.on('routeChangeComplete', function (url) {\n      if (_this._isMounted) _this.pagesHandler(); // if (url, props.router.asPath)\n      // this.state.pages = [...this.pagesHandler(true)]\n      // props.toggle();\n    });\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.pagesHandler();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _jsx,\n          _this2 = this,\n          _jsx2;\n\n      var _this$state2 = this.state,\n          pages = _this$state2.pages,\n          skip = _this$state2.skip,\n          currentPage = _this$state2.currentPage,\n          _goto = _this$state2[\"goto\"];\n      return __jsx(React.Fragment, null, pages.length && pages.length > 1 && __jsx(\"div\", {\n        className: \"row m-0 justify-content-between w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, __jsx(\"nav\", {\n        \"aria-label\": \"Page navigation example\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }\n      }, __jsx(\"ul\", {\n        className: \"pagination justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }, __jsx(\"li\", (_jsx = {\n        className: \"page-item \"\n      }, _defineProperty(_jsx, \"className\", \"\".concat(currentPage == 1 ? 'disabled' : '', \" page-item\")), _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }), _jsx), __jsx(Link, {\n        href: this.handlePageLink(currentPage - 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 37\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 41\n        }\n      }, \"Previous\"))), currentPage > 2 && this.props.count > 3 && __jsx(\"li\", {\n        className: \"page-item page-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 79\n        }\n      }, \"...\"), pages.map(function (counter) {\n        return (currentPage == counter || (currentPage == pages.length ? counter == currentPage - 2 : currentPage + 1 == counter) || (currentPage == 1 ? counter == currentPage + 2 : currentPage - 1 == counter)) && __jsx(\"li\", {\n          key: counter,\n          className: \"\".concat(currentPage == counter ? 'active' : '', \" page-item\"),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 37\n          }\n        }, __jsx(Link, {\n          href: _this2.handlePageLink(counter),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 41\n          }\n        }, __jsx(\"a\", {\n          className: \"page-link\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 45\n          }\n        }, counter)));\n      }), pages.length > 3 && currentPage + 1 != pages.length && currentPage != pages.length && __jsx(\"li\", {\n        className: \"page-item page-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 37\n        }\n      }, \"...\"), __jsx(\"li\", (_jsx2 = {\n        className: \"page-item \"\n      }, _defineProperty(_jsx2, \"className\", \"\".concat(currentPage == pages.length ? 'disabled' : '', \" page-item\")), _defineProperty(_jsx2, \"__self\", this), _defineProperty(_jsx2, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 33\n      }), _jsx2), __jsx(Link, {\n        href: this.handlePageLink(currentPage + 1),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 41\n        }\n      }, \"Next\"))))), __jsx(\"form\", {\n        onSubmit: this.handleGotoPage,\n        className: \"gotopage d-flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      }, __jsx(\"input\", {\n        type: \"number\",\n        className: \"form-control\",\n        maxLength: \"4\",\n        placeholder: currentPage,\n        onChange: this.handleGoto,\n        onFocus: this.handleFocus,\n        value: _goto,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 29\n        }\n      }), __jsx(\"button\", {\n        className: \"btn\",\n        type: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 29\n        }\n      }, \"Go\"))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var query = nextProps.router.query;\n\n      if (prevState.count != nextProps.count) {// Router.events.off(\"routeChangeComplete\", prevState.pagesHandler());\n        // prevState.pagesHandler()\n      }\n\n      return {\n        activeCategory: nextProps.router.query.categoryId,\n        currentPage: +query.page > 1 ? +query.page : 1,\n        categoryId: query.categoryId ? query.categoryId : '',\n        search: query.search ? query.search : '' // pagesHandler: prevState.pagesHandler()\n\n      };\n    }\n  }]);\n\n  return Pagination;\n}(Component);\n\nexport default withRouter(Pagination);","map":{"version":3,"sources":["F:/beliefchallenge/beliefchallenge_client/components/common/Pagination.js"],"names":["React","Component","Router","withRouter","Link","Pagination","props","derived","count","itemsLimit","setState","pages","Array","Math","ceil","keys","map","e","re","target","value","test","event","select","preventDefault","push","pathname","pageRoute","query","page","state","categoryId","search","computed","currentPage","skip","pagesHandler","bind","_isMounted","events","on","url","goto","length","handlePageLink","counter","handleGotoPage","handleGoto","handleFocus","nextProps","prevState","router","activeCategory"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Router, { withRouter } from 'next/router'\r\nimport Link from 'next/link';\r\n\r\n\r\nclass Pagination extends Component {\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            pages: [],\r\n            count: 0,\r\n            currentPage: 1,\r\n            goto: '',\r\n            skip: 0,\r\n            categoryId: '',\r\n            search: '',\r\n            pagesHandler: this.pagesHandler.bind(this)\r\n        }\r\n\r\n        this._isMounted = true;\r\n        Router.events.on('routeChangeComplete', (url) => {\r\n            if (this._isMounted)\r\n                this.pagesHandler()\r\n            // if (url, props.router.asPath)\r\n            // this.state.pages = [...this.pagesHandler(true)]\r\n            // props.toggle();\r\n        });\r\n\r\n\r\n    }\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        let query = nextProps.router.query\r\n        if (prevState.count != nextProps.count) {\r\n            // Router.events.off(\"routeChangeComplete\", prevState.pagesHandler());\r\n\r\n            // prevState.pagesHandler()\r\n        }\r\n        return {\r\n            activeCategory: nextProps.router.query.categoryId,\r\n            currentPage: +query.page > 1 ? +query.page : 1,\r\n            categoryId: query.categoryId ? query.categoryId : '',\r\n            search: query.search ? query.search : '',\r\n            // pagesHandler: prevState.pagesHandler()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.pagesHandler()\r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    pagesHandler = (derived) => {\r\n\r\n        if (this.props.count == this.props.itemsLimit) {\r\n            this.setState({ pages: [] });\r\n        }\r\n        if (this.props.count)\r\n            this.setState({\r\n                pages: [\r\n                    ...Array(Math.ceil(this.props.count / this.props.itemsLimit)).keys()\r\n                ].map(e => e + 1)\r\n            });\r\n\r\n    }\r\n\r\n    handleGoto = (e) => {\r\n        const re = /^[1-9]\\d*$/;\r\n        if ((e.target.value === '' || re.test(e.target.value)) && e.target.value <= this.props.count) {\r\n            this.setState({ goto: +e.target.value })\r\n        }\r\n    }\r\n    handleFocus = (event) => event.target.select();\r\n\r\n    handleGotoPage = (e) => {\r\n        e.preventDefault()\r\n        Router.push({ pathname: this.props.pageRoute, query: { page: this.state.goto } })\r\n    }\r\n    handlePageLink = (page) => {\r\n        let { categoryId, search } = this.state;\r\n\r\n        let computed = { pathname: this.props.pageRoute, query: { page } }\r\n        if (categoryId) computed.query['categoryId'] = categoryId\r\n        if (search) computed.query['search'] = search\r\n\r\n        return computed\r\n    }\r\n    render() {\r\n        let { pages, skip, currentPage, goto } = this.state;\r\n        return (\r\n            <>\r\n                {(pages.length && pages.length > 1) &&\r\n                    <div className=\"row m-0 justify-content-between w-100\">\r\n                        <nav aria-label=\"Page navigation example\">\r\n                            <ul className=\"pagination justify-content-center\">\r\n\r\n                                <li className=\"page-item \" className={`${currentPage == 1 ? 'disabled' : ''} page-item`}>\r\n                                    <Link\r\n                                        href={this.handlePageLink(currentPage - 1)}\r\n                                    >\r\n                                        <a className=\"page-link\" >Previous</a>\r\n                                    </Link>\r\n                                </li>\r\n                                {(currentPage > 2 && this.props.count > 3) && <li className=\"page-item page-link\">\r\n                                    ...\r\n                                </li>}\r\n\r\n                                {/* {pages.map(counter =>\r\n                                    (((currentPage < this.props.count ? counter >= currentPage - 1 : counter >= currentPage - 2) &&\r\n                                        (currentPage == 1 ? counter < currentPage + 3 : counter < currentPage + 2)) &&\r\n                                        <li key={counter} className={`${currentPage == counter ? 'active' : ''} page-item`} >\r\n                                            <Link\r\n                                                href={this.handlePageLink(counter)}\r\n                                            >\r\n                                                <a className=\"page-link\" >{counter}</a>\r\n                                            </Link>\r\n                                        </li>\r\n                                    )\r\n                                )} */}\r\n\r\n\r\n                                {pages.map(counter =>\r\n                                    (currentPage == counter ||\r\n                                        (currentPage == pages.length ? counter == currentPage - 2 : currentPage + 1 == counter) ||\r\n                                        (currentPage == 1 ? counter == currentPage + 2 : currentPage - 1 == counter)) &&\r\n                                    <li key={counter} className={`${currentPage == counter ? 'active' : ''} page-item`} >\r\n                                        <Link href={this.handlePageLink(counter)} >\r\n                                            <a className=\"page-link\" >{counter}</a>\r\n                                        </Link>\r\n                                    </li>\r\n                                )}\r\n\r\n\r\n                                {(pages.length > 3 && currentPage + 1 != pages.length && currentPage != pages.length) &&\r\n                                    <li className=\"page-item page-link\">\r\n                                        ...\r\n                                    </li>\r\n                                }\r\n\r\n                                <li className=\"page-item \" className={`${currentPage == pages.length ? 'disabled' : ''} page-item`}>\r\n                                    <Link href={this.handlePageLink(currentPage + 1)} >\r\n                                        <a className=\"page-link\" >Next</a>\r\n                                    </Link>\r\n                                </li>\r\n                            </ul>\r\n                        </nav>\r\n\r\n                        <form onSubmit={this.handleGotoPage} className=\"gotopage d-flex\">\r\n                            <input type=\"number\" className=\"form-control\" maxLength=\"4\" placeholder={currentPage} onChange={this.handleGoto} onFocus={this.handleFocus} value={goto} />\r\n                            <button className=\"btn\" type=\"button\">Go</button>\r\n                        </form>\r\n\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(Pagination);"]},"metadata":{},"sourceType":"module"}
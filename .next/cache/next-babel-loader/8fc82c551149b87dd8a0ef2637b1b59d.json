{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\beliefchallenge\\\\beliefchallenge_client\\\\components\\\\Layouts\\\\Default.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(_Reflect$construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport SideBar from 'common/SideBar';\nimport Head from 'next/head';\nimport Logo from 'components/common/Logo';\nimport CreatePost from 'components/post/createpost';\nimport PostCom from 'components/post/postCom';\nimport Pagination from 'components/common/Pagination';\nimport Header from 'components/common/Header';\nimport Footer from 'components/common/Footer';\nimport genericfunctions from 'utilfunction/util-api-service';\nimport { connect } from 'react-redux';\nimport getObject from 'common/jwt-services';\nimport { ITEMS_LIMIT } from 'common/config';\nimport Loader from 'components/loading';\nimport Router, { withRouter } from 'next/router';\nimport Modal from 'components/common/modal';\nimport { showModal as _showModal } from 'redux/action/generalAction';\n\nvar DefaultLayout = /*#__PURE__*/function (_Component) {\n  _inherits(DefaultLayout, _Component);\n\n  var _super = _createSuper(DefaultLayout);\n\n  function DefaultLayout(props) {\n    var _this;\n\n    _classCallCheck(this, DefaultLayout);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"fetchPinPost\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return genericfunctions._fetchWithOutParams('/post/pinpost').then(function (res) {\n                if (res.data.response.status) {\n                  _this.setState({\n                    pinPost: res.data.response.data\n                  });\n                }\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"deletePost\", function () {\n      var userData = {\n        postId: _this.props.modalData.postId,\n        role: _this.props.auth.authUser.role,\n        userId: _this.props.auth.authUser.userId,\n        socialLogin: _this.props.auth.authUser.socialLogin\n      };\n\n      genericfunctions._deleteRequest(\"/post\", userData).then(function (res) {\n        _this.props.showModal({});\n\n        Router.router.push(Router.router.asPath);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePageChange\", function (page, e) {\n      _this.setState({\n        skip: limit,\n        limit: limit * page\n      });\n\n      _this.setState({\n        currentPage: page\n      });\n    });\n\n    _this.state = {\n      activeCategory: '',\n      pinPost: [],\n      isLoggedIn: false,\n      isActiveCate: true,\n      currentPage: 1,\n      loader: true.pagerToShow\n    };\n    return _this;\n  }\n\n  _createClass(DefaultLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var result = getObject.getObject('authUser');\n\n      if (result) {\n        this.setState({\n          isLoggedIn: true\n        });\n      }\n\n      this.fetchPinPost();\n\n      if (this.props.postData) {\n        this.setState({\n          loader: false\n        });\n      }\n\n      window.dataLayer = window.dataLayer || [];\n\n      function gtag() {\n        dataLayer.push(arguments);\n      }\n\n      gtag('js', new Date());\n      gtag('config', 'UA-163410270-1');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          activeCategory = _this$state.activeCategory,\n          pinPost = _this$state.pinPost,\n          isLoggedIn = _this$state.isLoggedIn,\n          currentPage = _this$state.currentPage,\n          loader = _this$state.loader;\n      return __jsx(React.Fragment, null, __jsx(Head, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, __jsx(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, \"Belief Challenge\"), __jsx(\"meta\", {\n        title: \"Belief Challenge - Home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      })), __jsx(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }), __jsx(\"div\", {\n        className: \"container-fluid home-main bg-dark\",\n        onScroll: this.scrollHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }, __jsx(Logo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      }), __jsx(\"div\", {\n        className: \"container pb-35\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 29\n        }\n      }, __jsx(SideBar, {\n        activeCategory: activeCategory,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }\n      })), __jsx(\"div\", {\n        className: \"col-lg-6 mb-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }, loader && __jsx(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 44\n        }\n      }, \" \", __jsx(Loader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 74\n        }\n      })), isLoggedIn && __jsx(React.Fragment, null, __jsx(CreatePost, {\n        fetchPost: this.props.fetchPost,\n        count: this.props.count,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 50\n        }\n      }), \" \", __jsx(\"hr\", {\n        className: \"mt-40 mb-40\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 123\n        }\n      })), pinPost.length > 0 && __jsx(React.Fragment, null, __jsx(PostCom, {\n        data: pinPost[0],\n        pinPost: true,\n        fetchPinPost: this.fetchPinPost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 37\n        }\n      }), \" \", __jsx(\"hr\", {\n        className: \"mt-40 mb-40\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 115\n        }\n      })), this.props.postData && this.props.postData.map(function (itms, indx) {\n        return __jsx(PostCom, {\n          key: 'post-' + itms._id,\n          data: itms,\n          commentFlag: false,\n          pinPost: false,\n          fetchPinPost: _this2.fetchPinPost,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 45\n          }\n        });\n      }), this.props.count ? __jsx(\"div\", {\n        className: \"pagination\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 53\n        }\n      }, __jsx(Pagination, {\n        pageRoute: \"/home\",\n        count: this.props.count,\n        itemsLimit: ITEMS_LIMIT,\n        pagerToShow: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      })) : __jsx(\"div\", {\n        className: \"alert alert-danger text-center\",\n        role: \"alert\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 42\n        }\n      }, \"Nothing to show\"))))), __jsx(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }), this.props.modalData.showModal && __jsx(Modal, {\n        showModal: this.props.modalData.showModal,\n        triggerModalSuccess: this.deletePost,\n        triggerModalClose: function triggerModalClose() {\n          return _this2.props.showModal({});\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 52\n        }\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var query = nextProps.router.query;\n      return {\n        currentPage: +query.page > 1 ? +query.page : 1\n      };\n    }\n  }]);\n\n  return DefaultLayout;\n}(Component);\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    modalData: state.general.modalData,\n    postData: state.general.postData\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    showModal: function showModal(data) {\n      return dispatch(_showModal(data));\n    }\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DefaultLayout));","map":{"version":3,"sources":["F:/beliefchallenge/beliefchallenge_client/components/Layouts/Default.js"],"names":["React","Component","SideBar","Head","Logo","CreatePost","PostCom","Pagination","Header","Footer","genericfunctions","connect","getObject","ITEMS_LIMIT","Loader","Router","withRouter","Modal","showModal","DefaultLayout","props","_fetchWithOutParams","then","res","data","response","status","setState","pinPost","userData","postId","modalData","role","auth","authUser","userId","socialLogin","_deleteRequest","router","push","asPath","page","e","skip","limit","currentPage","state","activeCategory","isLoggedIn","isActiveCate","loader","pagerToShow","result","fetchPinPost","postData","window","dataLayer","gtag","arguments","Date","scrollHandle","fetchPost","count","length","map","itms","indx","_id","deletePost","nextProps","prevState","query","mapStateToProps","general","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport SideBar from 'common/SideBar'\r\nimport Head from 'next/head'\r\nimport Logo from 'components/common/Logo'\r\nimport CreatePost from 'components/post/createpost'\r\nimport PostCom from 'components/post/postCom'\r\nimport Pagination from 'components/common/Pagination'\r\nimport Header from 'components/common/Header'\r\nimport Footer from 'components/common/Footer'\r\nimport genericfunctions from 'utilfunction/util-api-service'\r\nimport { connect } from 'react-redux';\r\nimport getObject from 'common/jwt-services'\r\nimport { ITEMS_LIMIT } from 'common/config'\r\nimport Loader from 'components/loading'\r\nimport Router, { withRouter } from 'next/router'\r\nimport Modal from 'components/common/modal';\r\nimport { showModal } from 'redux/action/generalAction'\r\n\r\n\r\n\r\n\r\nclass DefaultLayout extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            activeCategory: '',\r\n            pinPost: [],\r\n            isLoggedIn: false,\r\n            isActiveCate: true,\r\n            currentPage: 1,\r\n            loader: true.pagerToShow,\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        let query = nextProps.router.query\r\n\r\n        return {\r\n            currentPage: +query.page > 1 ? +query.page : 1,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let result = getObject.getObject('authUser');\r\n        if (result) {\r\n            this.setState({ isLoggedIn: true })\r\n        }\r\n        this.fetchPinPost()\r\n        if (this.props.postData) {\r\n            this.setState({ loader: false })\r\n        }\r\n\r\n        window.dataLayer = window.dataLayer || [];\r\n        function gtag(){dataLayer.push(arguments);}\r\n        gtag('js', new Date());\r\n\r\n        gtag('config', 'UA-163410270-1');\r\n    }\r\n\r\n    fetchPinPost = async () => {\r\n        await genericfunctions._fetchWithOutParams('/post/pinpost').then(res => {\r\n            if (res.data.response.status) {\r\n                this.setState({ pinPost: res.data.response.data })\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * delete  post funtion\r\n     * @param {postid(string)}\r\n     */\r\n    deletePost = () => {\r\n\r\n        let userData = {\r\n            postId: this.props.modalData.postId,\r\n            role: this.props.auth.authUser.role,\r\n            userId: this.props.auth.authUser.userId,\r\n            socialLogin: this.props.auth.authUser.socialLogin\r\n        }\r\n        genericfunctions._deleteRequest(`/post`, userData).then(res => {\r\n            this.props.showModal({})\r\n            Router.router.push(Router.router.asPath)\r\n        })\r\n    }\r\n\r\n    handlePageChange = (page, e) => {\r\n        this.setState({ skip: limit, limit: limit * page })\r\n        this.setState({\r\n            currentPage: page\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let { activeCategory, pinPost, isLoggedIn, currentPage, loader } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <Head>\r\n                    <title>Belief Challenge</title>\r\n                    {/* <title>Belief Challenge - Home {currentPage && ', Page Number ' + currentPage}</title> */}\r\n                    <meta title='Belief Challenge - Home' />\r\n                </Head>\r\n                <Header />\r\n\r\n                <div className='container-fluid home-main bg-dark' onScroll={this.scrollHandle}>\r\n                    <Logo />\r\n                    <div className='container pb-35'>\r\n                        <div className='row'>\r\n                            <div className='col-lg-3'>\r\n                                <SideBar activeCategory={activeCategory} />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-6 mb-50\" >\r\n                                {loader && <div className='text-center'> <Loader /></div>}\r\n                                {isLoggedIn && <><CreatePost fetchPost={this.props.fetchPost} count={this.props.count} /> <hr className=\"mt-40 mb-40\" /></>}\r\n\r\n                                {pinPost.length > 0 && <>\r\n                                    <PostCom data={pinPost[0]} pinPost={true} fetchPinPost={this.fetchPinPost} /> <hr className=\"mt-40 mb-40\" />\r\n                                </>}\r\n                                {this.props.postData && this.props.postData.map((itms, indx) => {\r\n                                    return (<PostCom key={'post-' + itms._id} data={itms} commentFlag={false} pinPost={false} fetchPinPost={this.fetchPinPost} />)\r\n                                })}\r\n                                {this.props.count ? <div className=\"pagination\">\r\n                                    <Pagination pageRoute=\"/home\" count={this.props.count} itemsLimit={ITEMS_LIMIT} pagerToShow={4} />\r\n                                </div> : <div className=\"alert alert-danger text-center\" role=\"alert\">\r\n                                        Nothing to show\r\n                                </div>}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n                {this.props.modalData.showModal && <Modal showModal={this.props.modalData.showModal} triggerModalSuccess={this.deletePost} triggerModalClose={() => this.props.showModal({})} />}\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        auth: state.auth,\r\n        modalData: state.general.modalData,\r\n        postData: state.general.postData\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        showModal: data => dispatch(showModal(data))\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DefaultLayout));"]},"metadata":{},"sourceType":"module"}
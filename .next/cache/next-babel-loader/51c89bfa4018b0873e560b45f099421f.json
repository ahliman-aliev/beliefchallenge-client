{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"F:\\\\beliefchallenge\\\\beliefchallenge_client\\\\components\\\\Layouts\\\\Default.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport SideBar from 'common/SideBar';\nimport Head from 'next/head';\nimport Logo from 'components/common/Logo';\nimport CreatePost from 'components/post/createpost';\nimport PostCom from 'components/post/postCom';\nimport Pagination from 'components/common/Pagination';\nimport Header from 'components/common/Header';\nimport Footer from 'components/common/Footer';\nimport genericfunctions from 'utilfunction/util-api-service';\nimport { connect } from 'react-redux';\nimport getObject from 'common/jwt-services';\nimport { ITEMS_LIMIT } from 'common/config';\nimport Loader from 'components/loading';\nimport Router, { withRouter } from 'next/router';\nimport Modal from 'components/common/modal';\nimport { showModal } from 'redux/action/generalAction';\n\nclass DefaultLayout extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"fetchPinPost\", async () => {\n      await genericfunctions._fetchWithOutParams('/post/pinpost').then(res => {\n        if (res.data.response.status) {\n          this.setState({\n            pinPost: res.data.response.data\n          });\n        }\n      });\n    });\n\n    _defineProperty(this, \"deletePost\", () => {\n      let userData = {\n        postId: this.props.modalData.postId,\n        role: this.props.auth.authUser.role,\n        userId: this.props.auth.authUser.userId,\n        socialLogin: this.props.auth.authUser.socialLogin\n      };\n\n      genericfunctions._deleteRequest(`/post`, userData).then(res => {\n        this.props.showModal({});\n        Router.router.push(Router.router.asPath);\n      });\n    });\n\n    _defineProperty(this, \"handlePageChange\", (page, e) => {\n      this.setState({\n        skip: limit,\n        limit: limit * page\n      });\n      this.setState({\n        currentPage: page\n      });\n    });\n\n    this.state = {\n      activeCategory: '',\n      pinPost: [],\n      isLoggedIn: false,\n      isActiveCate: true,\n      currentPage: 1,\n      loader: true.pagerToShow\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    let query = nextProps.router.query;\n    return {\n      currentPage: +query.page > 1 ? +query.page : 1\n    };\n  }\n\n  componentDidMount() {\n    let result = getObject.getObject('authUser');\n\n    if (result) {\n      this.setState({\n        isLoggedIn: true\n      });\n    }\n\n    this.fetchPinPost();\n\n    if (this.props.postData) {\n      this.setState({\n        loader: false\n      });\n    }\n\n    window.dataLayer = window.dataLayer || [];\n\n    function gtag() {\n      dataLayer.push(arguments);\n    }\n\n    gtag('js', new Date());\n    gtag('config', 'UA-163410270-1');\n  }\n\n  render() {\n    let {\n      activeCategory,\n      pinPost,\n      isLoggedIn,\n      currentPage,\n      loader\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Belief Challenge\"), __jsx(\"meta\", {\n      title: \"Belief Challenge - Home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    })), __jsx(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"container-fluid home-main bg-dark\",\n      onScroll: this.scrollHandle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, __jsx(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }), __jsx(\"div\", {\n      className: \"container pb-35\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"col-lg-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }, __jsx(SideBar, {\n      activeCategory: activeCategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    })), __jsx(\"div\", {\n      className: \"col-lg-6 mb-50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, loader && __jsx(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 44\n      }\n    }, \" \", __jsx(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 74\n      }\n    })), isLoggedIn && __jsx(React.Fragment, null, __jsx(CreatePost, {\n      fetchPost: this.props.fetchPost,\n      count: this.props.count,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 50\n      }\n    }), \" \", __jsx(\"hr\", {\n      className: \"mt-40 mb-40\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 123\n      }\n    })), pinPost.length > 0 && __jsx(React.Fragment, null, __jsx(PostCom, {\n      data: pinPost[0],\n      pinPost: true,\n      fetchPinPost: this.fetchPinPost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }), \" \", __jsx(\"hr\", {\n      className: \"mt-40 mb-40\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 115\n      }\n    })), this.props.postData && this.props.postData.map((itms, indx) => {\n      return __jsx(PostCom, {\n        key: 'post-' + itms._id,\n        data: itms,\n        commentFlag: false,\n        pinPost: false,\n        fetchPinPost: this.fetchPinPost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 45\n        }\n      });\n    }), this.props.count ? __jsx(\"div\", {\n      className: \"pagination\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 53\n      }\n    }, __jsx(Pagination, {\n      pageRoute: \"/home\",\n      count: this.props.count,\n      itemsLimit: ITEMS_LIMIT,\n      pagerToShow: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 37\n      }\n    })) : __jsx(\"div\", {\n      className: \"alert alert-danger text-center\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 42\n      }\n    }, \"Nothing to show\"))))), __jsx(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }), this.props.modalData.showModal && __jsx(Modal, {\n      showModal: this.props.modalData.showModal,\n      triggerModalSuccess: this.deletePost,\n      triggerModalClose: () => this.props.showModal({}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 52\n      }\n    }));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    modalData: state.general.modalData,\n    postData: state.general.postData\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    showModal: data => dispatch(showModal(data))\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DefaultLayout));","map":{"version":3,"sources":["F:/beliefchallenge/beliefchallenge_client/components/Layouts/Default.js"],"names":["React","Component","SideBar","Head","Logo","CreatePost","PostCom","Pagination","Header","Footer","genericfunctions","connect","getObject","ITEMS_LIMIT","Loader","Router","withRouter","Modal","showModal","DefaultLayout","constructor","props","_fetchWithOutParams","then","res","data","response","status","setState","pinPost","userData","postId","modalData","role","auth","authUser","userId","socialLogin","_deleteRequest","router","push","asPath","page","e","skip","limit","currentPage","state","activeCategory","isLoggedIn","isActiveCate","loader","pagerToShow","getDerivedStateFromProps","nextProps","prevState","query","componentDidMount","result","fetchPinPost","postData","window","dataLayer","gtag","arguments","Date","render","scrollHandle","fetchPost","count","length","map","itms","indx","_id","deletePost","mapStateToProps","general","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport SideBar from 'common/SideBar'\r\nimport Head from 'next/head'\r\nimport Logo from 'components/common/Logo'\r\nimport CreatePost from 'components/post/createpost'\r\nimport PostCom from 'components/post/postCom'\r\nimport Pagination from 'components/common/Pagination'\r\nimport Header from 'components/common/Header'\r\nimport Footer from 'components/common/Footer'\r\nimport genericfunctions from 'utilfunction/util-api-service'\r\nimport { connect } from 'react-redux';\r\nimport getObject from 'common/jwt-services'\r\nimport { ITEMS_LIMIT } from 'common/config'\r\nimport Loader from 'components/loading'\r\nimport Router, { withRouter } from 'next/router'\r\nimport Modal from 'components/common/modal';\r\nimport { showModal } from 'redux/action/generalAction'\r\n\r\n\r\n\r\n\r\nclass DefaultLayout extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            activeCategory: '',\r\n            pinPost: [],\r\n            isLoggedIn: false,\r\n            isActiveCate: true,\r\n            currentPage: 1,\r\n            loader: true.pagerToShow,\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        let query = nextProps.router.query\r\n\r\n        return {\r\n            currentPage: +query.page > 1 ? +query.page : 1,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let result = getObject.getObject('authUser');\r\n        if (result) {\r\n            this.setState({ isLoggedIn: true })\r\n        }\r\n        this.fetchPinPost()\r\n        if (this.props.postData) {\r\n            this.setState({ loader: false })\r\n        }\r\n\r\n        window.dataLayer = window.dataLayer || [];\r\n        function gtag(){dataLayer.push(arguments);}\r\n        gtag('js', new Date());\r\n\r\n        gtag('config', 'UA-163410270-1');\r\n    }\r\n\r\n    fetchPinPost = async () => {\r\n        await genericfunctions._fetchWithOutParams('/post/pinpost').then(res => {\r\n            if (res.data.response.status) {\r\n                this.setState({ pinPost: res.data.response.data })\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * delete  post funtion\r\n     * @param {postid(string)}\r\n     */\r\n    deletePost = () => {\r\n\r\n        let userData = {\r\n            postId: this.props.modalData.postId,\r\n            role: this.props.auth.authUser.role,\r\n            userId: this.props.auth.authUser.userId,\r\n            socialLogin: this.props.auth.authUser.socialLogin\r\n        }\r\n        genericfunctions._deleteRequest(`/post`, userData).then(res => {\r\n            this.props.showModal({})\r\n            Router.router.push(Router.router.asPath)\r\n        })\r\n    }\r\n\r\n    handlePageChange = (page, e) => {\r\n        this.setState({ skip: limit, limit: limit * page })\r\n        this.setState({\r\n            currentPage: page\r\n        });\r\n    };\r\n\r\n    render() {\r\n        let { activeCategory, pinPost, isLoggedIn, currentPage, loader } = this.state;\r\n\r\n        return (\r\n            <>\r\n                <Head>\r\n                    <title>Belief Challenge</title>\r\n                    {/* <title>Belief Challenge - Home {currentPage && ', Page Number ' + currentPage}</title> */}\r\n                    <meta title='Belief Challenge - Home' />\r\n                </Head>\r\n                <Header />\r\n\r\n                <div className='container-fluid home-main bg-dark' onScroll={this.scrollHandle}>\r\n                    <Logo />\r\n                    <div className='container pb-35'>\r\n                        <div className='row'>\r\n                            <div className='col-lg-3'>\r\n                                <SideBar activeCategory={activeCategory} />\r\n                            </div>\r\n\r\n                            <div className=\"col-lg-6 mb-50\" >\r\n                                {loader && <div className='text-center'> <Loader /></div>}\r\n                                {isLoggedIn && <><CreatePost fetchPost={this.props.fetchPost} count={this.props.count} /> <hr className=\"mt-40 mb-40\" /></>}\r\n\r\n                                {pinPost.length > 0 && <>\r\n                                    <PostCom data={pinPost[0]} pinPost={true} fetchPinPost={this.fetchPinPost} /> <hr className=\"mt-40 mb-40\" />\r\n                                </>}\r\n                                {this.props.postData && this.props.postData.map((itms, indx) => {\r\n                                    return (<PostCom key={'post-' + itms._id} data={itms} commentFlag={false} pinPost={false} fetchPinPost={this.fetchPinPost} />)\r\n                                })}\r\n                                {this.props.count ? <div className=\"pagination\">\r\n                                    <Pagination pageRoute=\"/home\" count={this.props.count} itemsLimit={ITEMS_LIMIT} pagerToShow={4} />\r\n                                </div> : <div className=\"alert alert-danger text-center\" role=\"alert\">\r\n                                        Nothing to show\r\n                                </div>}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n                {this.props.modalData.showModal && <Modal showModal={this.props.modalData.showModal} triggerModalSuccess={this.deletePost} triggerModalClose={() => this.props.showModal({})} />}\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        auth: state.auth,\r\n        modalData: state.general.modalData,\r\n        postData: state.general.postData\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        showModal: data => dispatch(showModal(data))\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DefaultLayout));"]},"metadata":{},"sourceType":"module"}